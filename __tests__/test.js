var merge = require('../src/');

jest.unmock('../src');

var polygons1 = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[6.600379943847656,49.758203223406184],[6.5718841552734375,49.72825211998673],[6.604156494140625,49.71449060222895],[6.6405487060546875,49.71315863544862],[6.650848388671875,49.7273643978325],[6.634025573730469,49.75177084200527],[6.600379943847656,49.758203223406184]]]}},{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[6.612739562988281,49.769513272945396],[6.615486145019531,49.73779410787209],[6.6515350341796875,49.7360189963563],[6.671447753906249,49.74733421979961],[6.660118103027344,49.767295824128766],[6.638832092285155,49.777495248778486],[6.612739562988281,49.769513272945396]]]}}]};
var result1 = {"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[6.644649255923013,49.73635806434323],[6.650848388671875,49.7273643978325],[6.6405487060546875,49.71315863544862],[6.604156494140625,49.71449060222895],[6.5718841552734375,49.72825211998673],[6.600379943847656,49.758203223406184],[6.613943442993155,49.755610149656675],[6.612739562988281,49.769513272945396],[6.638832092285155,49.777495248778486],[6.660118103027344,49.767295824128766],[6.671447753906249,49.74733421979961],[6.6515350341796875,49.7360189963563],[6.644649255923013,49.73635806434323]]]},"properties":{}};

var polygons2 = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[6.63248062133789,49.7638585779908],[6.628704071044922,49.758203223406184],[6.6364288330078125,49.750439897952916],[6.648616790771484,49.75465442882871],[6.644840240478516,49.760199306229076],[6.63248062133789,49.7638585779908]]]}},{"type":"Feature","properties":{},"geometry":{"type":"Polygon","coordinates":[[[6.648960113525391,49.76463475164729],[6.648960113525391,49.76995675053598],[6.669902801513672,49.76995675053598],[6.669902801513672,49.76463475164729],[6.648960113525391,49.76463475164729]]]}}]};
var result2 = {"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[6.63248062133789,49.7638585779908],[6.644840240478516,49.760199306229076],[6.648616790771484,49.75465442882871],[6.6364288330078125,49.750439897952916],[6.628704071044922,49.758203223406184],[6.63248062133789,49.7638585779908]]],[[[6.648960113525391,49.76463475164729],[6.648960113525391,49.76995675053598],[6.669902801513672,49.76995675053598],[6.669902801513672,49.76463475164729],[6.648960113525391,49.76463475164729]]]]},"properties":{}};

describe('Testing different inputs', () => {

  describe('Polygon', () => {
      it('should give you a single polygon', () => {
          var result = merge(polygons1);
          expect(JSON.stringify(result)).toEqual(JSON.stringify(result1));
      });
  });

  describe('Polygon', () => {
      it('should give you a multipolygon', () => {
          var result = merge(polygons2);
          expect(JSON.stringify(result)).toEqual(JSON.stringify(result2));
      });
  });

});
